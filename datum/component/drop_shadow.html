<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/drop_shadow - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/drop_shadow.html#var">Var Details</a> - <a href="datum/component/drop_shadow.html#proc">Proc Details</a></header><main><h1>drop_shadow <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/drop_shadow.html">drop_shadow</a></aside> <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L2"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 2"></a></h1><p>Draws a shadow overlay under the attachee</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/drop_shadow.html#var/additional_offset">additional_offset</a></th><td>Any temporary extra offsets we are tracking</td></tr><tr><th><a href="datum/component/drop_shadow.html#var/death_offset">death_offset</a></th><td>Additional offset to apply while mob is dead</td></tr><tr><th><a href="datum/component/drop_shadow.html#var/shadow">shadow</a></th><td>The overlay we are using</td></tr><tr><th><a href="datum/component/drop_shadow.html#var/shadow_offset">shadow_offset</a></th><td>Extra offset to apply to the shadow</td></tr><tr><th><a href="datum/component/drop_shadow.html#var/unhide_shadow_timer">unhide_shadow_timer</a></th><td>Timer to make sure</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/drop_shadow.html#proc/hide_shadow">hide_shadow</a></th><td>Make the shadow invisible</td></tr><tr><th><a href="datum/component/drop_shadow.html#proc/on_transform_updated">on_transform_updated</a></th><td>Called when a mob is resized or rotated</td></tr><tr><th><a href="datum/component/drop_shadow.html#proc/on_update_overlays">on_update_overlays</a></th><td>Handles actually displaying it</td></tr><tr><th><a href="datum/component/drop_shadow.html#proc/shadowless_trait_updated">shadowless_trait_updated</a></th><td>Called when we gain or lose the &quot;shadowless&quot; trait</td></tr><tr><th><a href="datum/component/drop_shadow.html#proc/show_shadow">show_shadow</a></th><td>Make the shadow visible</td></tr><tr><th><a href="datum/component/drop_shadow.html#proc/temporarily_hide_shadow">temporarily_hide_shadow</a></th><td>Hide shadow then display it again after a delay</td></tr><tr><th><a href="datum/component/drop_shadow.html#proc/update_shadow_position">update_shadow_position</a></th><td>Repositions the shadow to try and stay under our mob should be at under current conditions</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/additional_offset"><aside class="declaration">var </aside>additional_offset <aside>– </aside> <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 9"></a></h3><p>Any temporary extra offsets we are tracking</p><h3 id="var/death_offset"><aside class="declaration">var </aside>death_offset <aside>– </aside> <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 11"></a></h3><p>Additional offset to apply while mob is dead</p><h3 id="var/shadow"><aside class="declaration">var </aside>shadow <aside>– /mutable_appearance</aside> <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L5"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 5"></a></h3><p>The overlay we are using</p><h3 id="var/shadow_offset"><aside class="declaration">var </aside>shadow_offset <aside>– </aside> <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L7"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 7"></a></h3><p>Extra offset to apply to the shadow</p><h3 id="var/unhide_shadow_timer"><aside class="declaration">var </aside>unhide_shadow_timer <aside>– </aside> <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 15"></a></h3><p>Timer to make sure</p><h2 id="proc">Proc Details</h2><h3 id="proc/hide_shadow"><aside class="declaration">proc </aside>hide_shadow<aside>()  <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L152"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 152"></a></aside></h3><p>Make the shadow invisible</p><h3 id="proc/on_transform_updated"><aside class="declaration">proc </aside>on_transform_updated<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source, previous_size, lying_angle, is_opposite_angle, final_pixel_y, animate_time)  <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L135"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 135"></a></aside></h3><p>Called when a mob is resized or rotated</p><h3 id="proc/on_update_overlays"><aside class="declaration">proc </aside>on_update_overlays<aside>(/<a href="atom.html">atom</a>/source, /list/overlays)  <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L123"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 123"></a></aside></h3><p>Handles actually displaying it</p><h3 id="proc/shadowless_trait_updated"><aside class="declaration">proc </aside>shadowless_trait_updated<aside>()  <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L129"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 129"></a></aside></h3><p>Called when we gain or lose the &quot;shadowless&quot; trait</p><h3 id="proc/show_shadow"><aside class="declaration">proc </aside>show_shadow<aside>()  <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L143"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 143"></a></aside></h3><p>Make the shadow visible</p><h3 id="proc/temporarily_hide_shadow"><aside class="declaration">proc </aside>temporarily_hide_shadow<aside>(show_in)  <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L161"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 161"></a></aside></h3><p>Hide shadow then display it again after a delay</p><h3 id="proc/update_shadow_position"><aside class="declaration">proc </aside>update_shadow_position<aside>()  <a href="https://github.com/aarrbba123/tgstation/blob/ab712f85327e1fccc0d94a73638abf61cc5bae86/code/datums/components/drop_shadow.dm#L104"><img src="git.png" width="16" height="16" title="code/datums/components/drop_shadow.dm 104"></a></aside></h3><p>Repositions the shadow to try and stay under our mob should be at under current conditions</p></main><footer>tgstation.dme <a href="https://github.com/aarrbba123/tgstation/tree/ab712f85327e1fccc0d94a73638abf61cc5bae86">ab712f8</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>